<div class="service-order-list-container">
  <mat-card class="main-card">
    <mat-card-header>
      <mat-card-title class="card-title">
        <mat-icon class="title-icon">assignment</mat-icon>
        Ordens de Servi√ßo
      </mat-card-title>
      <mat-card-actions>
        <button class="btn-primary" (click)="navigateToNew()">
          <mat-icon>add</mat-icon>
          Nova Ordem
        </button>
        <button class="btn-secondary" [disabled]="!hasSelection()" (click)="finishSelectedOrders()">
          <mat-icon>receipt</mat-icon>
          finalizar OS
        </button>
      </mat-card-actions>
    </mat-card-header>

    <mat-card-content>
      <!-- Filtros -->
            <app-service-order-filters
        [initialSearch]="currentParams().search || ''"
        [initialStatus]="currentParams().status || ''"
        [initialSortBy]="currentParams().sort || 'DateIn'"
        [initialShowFinishedOrders]="!currentParams().excludeFinished"
        (filterChange)="onFilterChange($event)">
      </app-service-order-filters>

      <!-- Tabela -->
      <app-service-order-table
        [serviceOrders]="serviceOrders()"
        [selectedOrderIds]="selectedOrderIds()"
        [totalItems]="totalItems()"
        [pageSize]="pageSize()"
        [pageIndex]="pageIndex()"
        [pageSizeOptions]="pageSizeOptions"
        [loading]="loading()"
        (selectionChange)="onSelectionChange($event)"
        (pageChange)="onPageChange($event)"
        (action)="onAction($event)">
      </app-service-order-table>
    </mat-card-content>
  </mat-card>
</div>